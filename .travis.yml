dist: trusty
language: node_js
node_js:
  - "8.11.4"
  - "10.14.1"
env:
  global:
  - PATH="/tmp/ci-tools:./node_modules/.bin/:$PATH"
cache:
  yarn: true
  directories:
  - "/tmp/ci-tools"
before_install:
- curl -sSL https://github.com/goodeggs/travis-utils/raw/master/install-ci-tools.sh
  | CACHE_DIR=/tmp/ci-tools sh -s -- yarn=1.9.4
install: yarn install
script: yarn run test
deploy:
  provider: npm
  email: open-source@goodeggs.com
  api_token:
    secure: "ajh86mSmToJGW9qTiAIcLsAAaEjKBcea9aJiezMSJnKzg9a02LUGq9rQK3kIPv/ikkc9o8kJXuPtGanbJfVk/5NUQ6uxXCNS4tXw2lRXssidAeSBwDUnuXfENCJsYJl+wktiwij43/J9yykSzGpeuPGnZPnoH341R8h2mC8r/WM="
  skip_cleanup: true
  on:
    tags: true
    all_branches: true
    node: "8.11.4"
